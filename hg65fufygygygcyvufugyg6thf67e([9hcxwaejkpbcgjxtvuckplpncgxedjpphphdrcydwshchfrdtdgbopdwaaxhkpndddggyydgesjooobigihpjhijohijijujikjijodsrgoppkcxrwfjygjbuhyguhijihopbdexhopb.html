<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Educational videos</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    .video-container {
      position: relative;
      padding-bottom: 56.25%;
      height: 0;
      overflow: hidden;
    }
    .video-container iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
    }
    .shake {
      animation: shake 0.5s;
    }
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
      20%, 40%, 60%, 80% { transform: translateX(5px); }
    }
  </style>
</head>
<body class="bg-gray-100 min-h-screen">
  <div class="container mx-auto px-4 py-8 max-w-4xl">
    <div class="text-center mb-8">
      <h1 class="text-4xl font-bold text-gray-800 mb-2">Paste a url</h1>
    </div>

    <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
      <div class="flex flex-col md:flex-row gap-4">
        <div class="flex-grow relative">
          <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none text-gray-500">
            <i class="fab fa-youtube text-red-500 text-xl"></i>
          </div>
          <input
            type="text"
            id="youtubeUrl"
            class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none transition-all"
            placeholder="No snitches btw url here"
          >
        </div>
        <button
          id="playButton"
          class="bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-6 rounded-lg flex items-center justify-center gap-2 transition-colors"
        >
          <i class="fas fa-play"></i>
          <span>Play Video</span>
        </button>
      </div>
      <div id="errorMessage" class="text-red-500 mt-2 text-sm hidden">
        Please enter a valid url
      </div>
    </div>

    <div id="playerContainer" class="hidden">
      <div class="bg-white rounded-xl shadow-lg overflow-hidden">
        <div class="video-container">
          <iframe id="youtubePlayer" src="" allowfullscreen></iframe>
        </div>
        <div class="p-4">
          <div class="flex justify-between items-center">
            <h2 id="videoTitle" class="text-xl font-semibold text-gray-800 truncate"></h2>
            <button
              id="copyButton"
              class="text-gray-500 hover:text-gray-700 transition-colors"
              title="Copy video URL"
            >
              <i class="fas fa-link"></i>
            </button>
          </div>
          <div class="flex items-center mt-2 text-gray-600">
            <i class="fas fa-eye mr-1"></i>
            <span id="viewCount" class="mr-3">- views</span>
            <i class="fas fa-calendar-alt mr-1"></i>
            <span id="uploadDate">-</span>
          </div>
        </div>
      </div>
    </div>

    <div id="placeholder" class="bg-gray-200 rounded-xl aspect-video flex items-center justify-center">
      <div class="text-center p-8">
        <i class="fab fa-youtube text-red-500 text-6xl mb-4"></i>
        <h3 class="text-xl font-semibold text-gray-700 mb-2">No video selected</h3>
        <p class="text-gray-500">Enter a URL above to start watching</p>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const youtubeUrlInput = document.getElementById('youtubeUrl');
      const playButton = document.getElementById('playButton');
      const playerContainer = document.getElementById('playerContainer');
      const youtubePlayer = document.getElementById('youtubePlayer');
      const placeholder = document.getElementById('placeholder');
      const errorMessage = document.getElementById('errorMessage');
      const videoTitle = document.getElementById('videoTitle');
      const viewCount = document.getElementById('viewCount');
      const uploadDate = document.getElementById('uploadDate');
      const copyButton = document.getElementById('copyButton');

      function extractVideoId(url) {
        const shortsMatch = url.match(/youtube\.com\/shorts\/([^?&\/]+)/);
        if (shortsMatch) return shortsMatch[1];
        
        const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;
        const match = url.match(regExp);
        return (match && match[2].length === 11) ? match[2] : null;
      }

      function isValidYouTubeUrl(url) {
        const pattern = /^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.?be)\/.+/;
        return pattern.test(url) && extractVideoId(url) !== null;
      }

      function playVideo() {
        const url = youtubeUrlInput.value.trim();

        if (!isValidYouTubeUrl(url)) {
          errorMessage.classList.remove('hidden');
          youtubeUrlInput.classList.add('border-red-500', 'shake');
          setTimeout(() => {
            youtubeUrlInput.classList.remove('shake');
          }, 500);
          return;
        }

        errorMessage.classList.add('hidden');
        const videoId = extractVideoId(url);
        youtubePlayer.src = `https://www.youtube.com/embed/${videoId}?autoplay=1&rel=0&modestbranding=1`;

        playerContainer.classList.remove('hidden');
        placeholder.classList.add('hidden');

        videoTitle.textContent = "Playing: " + videoId;
        viewCount.textContent = "1,234,567 views";
        uploadDate.textContent = "Jun 15, 2023";

        youtubeUrlInput.focus();
      }

      playButton.addEventListener('click', playVideo);

      youtubeUrlInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
          playVideo();
        }
      });

      youtubeUrlInput.addEventListener('input', function() {
        this.classList.remove('border-red-500');
        errorMessage.classList.add('hidden');
      });

      copyButton.addEventListener('click', function() {
        const url = youtubeUrlInput.value.trim();
        if (url) {
          navigator.clipboard.writeText(url).then(() => {
            const originalIcon = copyButton.innerHTML;
            copyButton.innerHTML = '<i class="fas fa-check"></i>';
            copyButton.classList.add('text-green-500');
            setTimeout(() => {
              copyButton.innerHTML = originalIcon;
              copyButton.classList.remove('text-green-500');
            }, 2000);
          });
        }
      });

      youtubeUrlInput.addEventListener('paste', function(e) {
        setTimeout(() => {
          if (isValidYouTubeUrl(youtubeUrlInput.value.trim())) {
            playVideo();
          }
        }, 100);
      });
    });
  </script>
</body>
</html>

